<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8" />
	<title>Smart Gardening </title>
	<link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
	<script src="https://code.jquery.com/jquery-1.12.4.js"></script>
	<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
<!-- 		<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.1.0/css/all.css" integrity="sha384-lKuwvrZot6UHsBSfcMvOkWwlCMgc0TaWr+30HWe3a4ltaBwTZhyTEggF5tJv8tbt" crossorigin="anonymous"> -->
	<script src="https://kit.fontawesome.com/0f00646d7d.js" crossorigin="anonymous"></script>
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
	<script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script type="text/javascript">
        $(document).ready(function () {

            $('#sidebarCollapse').on('click', function () {
                $('#sidebar').toggleClass('active');
                $(this).toggleClass('active');
            });

        });
    </script>
    <link rel="stylesheet" href="/static/css/sidebar.css">
    <% if(typeof scripts !== 'undefined') scripts.forEach(function(script) { %>
      <script src="<%=script%>"></script>
    <% }); %>
    <% if(typeof stylesheets !== 'undefined') stylesheets.forEach(function(stylesheet){ %>
      <link rel="stylesheet" type="text/css" href="<%=stylesheet%>">
    <% }); %> 
</head>
<body>
<div class="wrapper">
<nav id="sidebar">
    <div class="sidebar-header">
        <h3>Smart Gardening</h3>
    </div>
    <div style="height: 90%;
        min-height: 90%;display: flex; flex-direction: column; justify-content: space-between;">
        <% if(currentUser){ %>
        <ul class="list-unstyled components" >
            <li class="nav-item <%= page_name === 'home' && 'active' %>">
                <a class="nav-link" href="/admin">
                    <i class="fas fa-fw fa-home"></i> Home
                </a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="/">
                    <i class="fa fa-fw fa-thermometer"></i> Temp/Humidity
                </a>
            </li>
            <li class="nav-item <%= page_name === 'soil' && 'active' %>">
                <a class="nav-link" href="/soil">
                    <i class="fa fa-fw fa-leaf"></i> Soil
                </a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="/charts">
                    <i class="fa fa-fw fa-chart-pie"></i> Graphs
                </a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="/">
                    <i class="fa fa-fw fa-file"></i> Reports
                </a>
            </li>
            <li class="nav-item <%= page_name === 'camera' && 'active' %>">
                <a href="#cameraSubmenu" data-toggle="collapse" aria-expanded="false" class="dropdown-toggle">
                    <i class="fa fa-fw fa-camera"></i>
                    Camera
                </a>
                <ul class="collapse list-unstyled" id="cameraSubmenu">
                    <li class="nav-item <%= page_name === 'image' && 'active' %>">
                        <a class="nav-link" href="/camera/image">
                            <i class="fa fa-fw fa-image"></i> Images
                        </a>
                    </li>
                    <li class="nav-item <%= page_name === 'video' && 'active' %>">
                        <a class="nav-link" href="/camera/video">
                            <i class="fa fa-fw fa-video"></i> Video
                        </a>
                    </li>
                </ul>
            </li>

            <li class="nav-item <%= page_name === 'schedules' && 'active' %>">
                <a class="nav-link" href="/schedule">
                    <i class="fa fa-fw fa-calendar" ></i> Schedule
                </a>
            </li>
            <li class="nav-item <%= page_name === 'journal' && 'active' %>">
                <a class="nav-link" href="/journal">
                    <i class="fa fa-fw fa-calendar" ></i> Journal
                </a>
            </li>
            <li class="nav-item <%= page_name === 'room' && 'active' %>">
                <a class="nav-link" href="/room">
                    <i class="fa fa-fw fa-calendar" ></i> Room
                </a>
            </li>
        <% } %>
        </ul>
        <ul class="list-unstyled components">
        <% if(!currentUser){ %>



            <li class="<%= typeof page !== 'undefined' && page === 'login' ? 'active' : '' %> nav-item" style="">
                <a class="nav-link" href="/login">
                    <i class="fa fa-fw fa-user"></i> Login
                </a>
            </li>
            <li class="<%= typeof page !== 'undefined' && page === 'register' ? 'active' : '' %> nav-item">
                <a class="nav-link" href="/register">
                    <i class="fa fa-fw fa-sign-in"></i> Sign Up
                </a>
            </li>
        <% } else { %>
            <li class="nav-item>">
                <a href="#settingSubmenu" data-toggle="collapse" aria-expanded="false" class="dropdown-toggle">
                    <i class="fa fa-fw fa-cog"></i>
                    Settings
                </a>
                <ul class="collapse list-unstyled" id="settingSubmenu">
                    <li class="nav-item <%= page_name === 'device' && 'active' %>">
                    <a class="nav-link" href="/device">
                        <i class="fab fa-fw fa-raspberry-pi"></i> Device
                    </a>
                    </li>
                    
                </ul>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="/admin">
                    <i class="fa fa-fw fa-user-circle"></i> Signed In As <%= currentUser.username %>
                </a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="/logout">
                    <i class="fa fa-fw fa-sign-out"></i> Logout
                </a>
            </li>
            <% } %>
        </ul>
    </div>
</nav>
    <!-- Page Content -->
<div id="content" style="width: 100%;">
    <button type="button" id="sidebarCollapse" class="navbar-btn">
            <span></span>
            <span></span>
            <span></span>
        </button>
    <div>
</div>
<div class="container" style="width: 100%;">
	<% if(success && success.length > 0){ %>
		<span class="alert alert-success" role="alert"><%=success%></span>
	<% } %>
	<% if (error && error.length > 0){ %>
		<span class="alert alert-danger" role="alert"><%=error%></span>
	<% } %> 
</div>